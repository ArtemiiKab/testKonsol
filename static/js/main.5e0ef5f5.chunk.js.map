{"version":3,"sources":["actions/index.js","components/Nav/index.js","components/Converter/index.js","components/CurrencyList/index.js","App.js","reducers/index.js","reducers/baseCurrencyReducer.js","reducers/favCurrencyListReducer.js","index.js"],"names":["changeBaseCurrency","newCurrency","type","payload","changeFavCurrencyList","newList","Nav","dispatch","useDispatch","baseCurrency","useSelector","state","baseCurrencyReducer","favCurrency","favCurrencyListReducer","className","to","value","onChange","e","val","target","map","el","key","Converter","url","toCurrency","setToCurrency","countries","useState","inputVal","setInputVal","result","setResult","useEffect","fetch","then","res","json","data","rates","handleInput","htmlFor","id","onClick","base","CurrencyList","setCountries","allRates","setAllRates","Set","Object","keys","currency","currentTarget","children","innerHTML","includes","filter","c","prev","toggleFav","cn","List__favorite","App","BASE_URL","setData","sort","path","exact","render","allReducers","combineReducers","action","store","createStore","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5e0ef5f5.chunk.js","sourcesContent":["export const changeBaseCurrency = newCurrency => {\n  return {\n    type: 'Change',\n    payload: newCurrency,\n  }\n}\n\nexport const changeFavCurrencyList = newList => {\n  return {\n    type: 'newList',\n    payload: newList,\n  }\n}","import React from 'react';\nimport {NavLink} from 'react-router-dom';\nimport {useDispatch, useSelector} from 'react-redux';\nimport {changeBaseCurrency} from '../../actions'\nimport './nav.scss';\n\nexport default function Nav() {\n const dispatch = useDispatch();\n const baseCurrency = useSelector(state => state.baseCurrencyReducer);\n const favCurrency = useSelector(state => state.favCurrencyListReducer);\n\n function handleChange(val){\n   dispatch(changeBaseCurrency(val));\n }\n\n  return (\n    <nav className=\"nav\">\n      <ul>\n        <li><NavLink to=\"/\">Converter</NavLink></li>\n        <li><NavLink to=\"/currencies\">Currencies</NavLink></li>\n      </ul>\n      <div>\n        <p>Favorites: </p>\n        <select\n          value={baseCurrency?baseCurrency:favCurrency[0]}\n          onChange={(e) => handleChange(e.target.value)}\n        >\n          {favCurrency.map(el => <option key={el}>{el}</option>)}\n        </select>\n      </div>\n    </nav>\n  )\n}\n","import React, {useState, useEffect} from 'react';\nimport {useDispatch, useSelector} from 'react-redux';\nimport {changeBaseCurrency} from '../../actions';\nimport './converter.scss';\n\nexport default function Converter({ url, toCurrency, setToCurrency, countries}) {\n  const [inputVal, setInputVal] = useState(1);\n  const [result, setResult] = useState(0)\n  const dispatch = useDispatch();\n  const baseCurrency = useSelector(state => state.baseCurrencyReducer);\n \n  useEffect(()=> {\n    if (baseCurrency && toCurrency){\n      fetch(`${url}?base=${baseCurrency}&symbols=${toCurrency}`)\n        .then(res=>res.json())\n        .then(data => setResult(data.rates[toCurrency]*inputVal))\n    }\n  },[baseCurrency, toCurrency, inputVal, url]);\n\n  function handleInput(e){\n    setInputVal(e);\n  };\n\n  function handleSwap() {\n    const base = baseCurrency;\n    dispatch(changeBaseCurrency(toCurrency));\n    setToCurrency(base);\n  };\n\n  return (\n    <section className=\"converter\">\n      <h1>Converter</h1>\n      <div className=\"converter__container\">\n        <div className=\"converter__inputBox\">\n          <label></label>\n          <input\n            type=\"number\"\n            value={inputVal}\n            onChange={(e)=>handleInput(e.target.value)}\n          />\n        </div>\n        <div className=\"converter__operations\">\n          <div>\n            <div>\n              <label htmlFor=\"currencyFrom\" >From</label>\n              <select\n                id=\"currencyFrom\"\n                className=\"converter__select\"\n                value={baseCurrency}\n                onChange={(e)=>dispatch(changeBaseCurrency(e.target.value))}\n              >\n                {countries?countries.map(el => <option key={el} value={el}>{el}</option>):'loading data'}\n              </select>\n            </div>\n          \n            <div>\n              <label htmlFor=\"currencyTo\">To</label>\n              <select\n                id=\"currencyTo\"\n                className=\"converter__select\"\n                value={toCurrency}\n                onChange={(e)=>setToCurrency(e.target.value)}\n              >\n                {countries?countries.map(el => <option key={el} value={el}>{el}</option>):'loading data'}\n              </select>\n            </div>\n          </div>\n          <div className=\"converter__btn\">\n            <button\n              type=\"button\"\n              className=\"converter__submit\"\n              onClick={handleSwap}\n            >\n              SWAP\n            </button>\n          </div>\n        </div>\n        <div className=\"converter__resultbox\">\n        <h2>TOTAL : <span>{result}</span> {toCurrency}</h2>\n        </div>\n      </div> \n    </section>\n  )\n}","import React, {useState, useEffect} from 'react';\nimport {useDispatch, useSelector} from 'react-redux';\nimport {changeFavCurrencyList} from '../../actions';\nimport './CurrencyList.scss';\nimport cn from 'classnames';\n\nexport default function CurrencyList({ url, setCountries,}) {\n  const [allRates, setAllRates] = useState([])\n  const baseCurrency = useSelector(state => state.baseCurrencyReducer);\n  const favCurrency = useSelector(state => state.favCurrencyListReducer);\n  const dispatch = useDispatch();\n\n  useEffect(()=> {\n    if (baseCurrency && url) {\n      fetch(`${url}?base=${baseCurrency}`)\n        .then(res => res.json())\n        .then(data => setAllRates(data.rates))\n    }\n  },[baseCurrency, url]);\n\n  function toggleFav(e){\n    const currency = e.currentTarget.children[0].innerHTML;\n\n    if (favCurrency.includes(currency)) {\n      dispatch(changeFavCurrencyList(favCurrency.filter(c => c !== currency)));\n    } else {\n      dispatch(changeFavCurrencyList([currency, ...favCurrency]));\n    }\n\n    setCountries(prev => [...new Set([...favCurrency, ...prev])])\n  }\n\n  return (\n    <section className=\"container\">\n      <h1>Choose favorite currencies</h1>\n      <ul className=\"List\">\n        {[...new Set([...favCurrency, ...Object.keys(allRates)])].map(el => (\n          <li\n            key={el}\n            onClick={(e)=>toggleFav(e)}\n            className={cn({\n              List__favorite:favCurrency.includes(el)\n            })}\n          >\n            <h4 >{el}</h4>\n            <div>\n              1 {baseCurrency} = {allRates[el]?allRates[el]:1} {el}\n            </div>\n          </li>\n        ))}\n      </ul>\n    </section>\n  )\n}\n","import React, {useState, useEffect} from 'react';\nimport './App.scss';\nimport {Route, HashRouter, Switch} from 'react-router-dom';\nimport {useDispatch} from 'react-redux';\nimport {changeBaseCurrency} from './actions';\nimport Nav from './components/Nav';\nimport Converter from './components/Converter';\nimport CurrencyList from './components/CurrencyList';\n\nfunction App() {\n  const BASE_URL = `https://api.exchangeratesapi.io/latest`;\n  const dispatch = useDispatch();\n\n\n  const [data, setData] = useState([]);\n  const [countries, setCountries] = useState([])\n  const [toCurrency, setToCurrency] = useState();\n\n  useEffect(()=>{\n  \n    fetch(BASE_URL)\n      .then(res => res.json())\n      .then(data => {\n        setData(data);\n        dispatch(changeBaseCurrency(data.base));\n        setCountries([data.base, ...Object.keys(data.rates).sort()]);\n        setToCurrency('USD')\n      })   \n  }, [BASE_URL]);\n\n  return (\n    <div className=\"App\">\n      <HashRouter>\n      <Nav/>\n        <Switch>\n          <Route\n            path=\"/\" exact\n            render={() => (\n              data !== 0 ?\n              <Converter\n                url={BASE_URL} \n                countries={countries}\n                toCurrency={toCurrency}\n                setToCurrency={setToCurrency}\n              /> : 'loading'\n            )} \n          />\n          <Route\n            path=\"/currencies\"\n            exact render={() => (\n              <CurrencyList\n                url={BASE_URL}\n                setCountries={setCountries}\n              />\n            )}\n          />\n        </Switch>\n      </HashRouter>\n    </div>\n  );\n}\n\nexport default App;\n","import baseCurrencyReducer from './baseCurrencyReducer';\nimport favCurrencyListReducer from './favCurrencyListReducer';\nimport {combineReducers} from 'redux';\n\nconst allReducers = combineReducers({\n  baseCurrencyReducer,\n  favCurrencyListReducer,\n});\n\nexport default allReducers;\n","export default function baseCurrencyReducer (state='EUR', action){\n  switch(action.type) {\n    case 'Change':\n      return action.payload;\n  \n    default: \n      return state;\n  }\n}","export default function favCurrencyListReducer (state=['EUR', 'USD'], action){\n    switch(action.type) {\n      case 'newList':\n        return action.payload;\n      default: \n        return state;\n    }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {createStore} from 'redux';\nimport allReducers from './reducers';\nimport {Provider} from 'react-redux';\n\nconst store = createStore(allReducers);\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}